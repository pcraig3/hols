# TODO

- different versions of "federal" holidays
- add years to dates on years pages?
- make API to return CSV format
  - page for CSV downloads
- Update the github workflows for deploying to Cloud Run

# DONE

- Update sitemap
- Add 2014, 2032, 2033
- Redirect /QB to /QC
- Move away from Cloud Repositories onto Artifacts
- Build + minify js
- partytown for GTM
- Clean up API documentation
- Optional holidays for NS
- Orange Shirt Day for Manitoba
- Add 2015, 2030, 2031
- Update to new LTS version of node
- Fix bug where Discovery Day couldn't be on a Monday
- Hide API routes and ICS routes from search engine crawlers
- Add 2016, 2027, 2028, 2029
- Update to GA4, otherwise we get cut off
  - Remove old GA implementation
- Improve print styles
- Fix speakable stuff
- Fix the google dataset stuff
- Fix the sitemap
- Add the Day of Mourning to observing provinces
  - Figure out which ones it's optional for
- Optional holidays for BC
- Add 2017, 2025, 2026
- Add optional holidays for Alberta
  - In the API
  - To the UI
- Swap out problematic sqlite package for better-sqlite3
- Update default API year to 2022, the current year
- update the ics routes, remove the filename
  - Update "Add holidays" page to talk about streaming holidays
- Use literal date for "next holiday" box
- add 2024
- update gcloud github actions to get CD working again
- add notification shelf for ~annoying~ informative pop-up messages
- add Truth and Reconciliation day
  - to API and frontend
  - not for previous years
- add 2023
- bug: boxing day was causing problems
  - showing "next holidays" would always show new years, skipping boxing day
  - bug: compare boxing day date for 7pm UTC
- Change province urls to provinces to match API (so dumb that this happened)
- download link/button has nicer calendar icon
- add opengraph images
  - shorten opengraph descriptions
  - aspect ratio 1.91:1 (1200 x 628)
  - fix for twitter
- add next year links at the bottom
- bug: rel no-opener
- bug: don't focus on aria-hidden date in header
- make screen reader improvements for the "next holidays" page
- add google rich results ðŸ’°
  - breadcrumbs
  - speakable
  - dataset
- make it a PWA
- put days until on main page
  - bug: "days until" counter actually works now
- link to next holiday row to reduce scrolling
  - bug: events target the time element
- bug: fix broken links after changing to main branch
- log ips in prod
  - refuse too many requests from one IP
- swap from Heroku to Cloud Run
- add sources
  - add to the frontend
  - add to the API
  - add federal sources
  - add page with sources
- New key "observedDate"
  - update Swagger
- "date" is the literal date
- Christmas is after Saturday
- cache static files for longer than not at all
  - set up cache busting in express
- PEI, let's call it "PEI" on the screen at least
  - on the meta tag
  - on the holiday listing page
  - on the holiday box
  - redirect /provinces/PEI to /provinces/PE
- redirect yearless /ics url paths to the current year
- swagger api spec
  - add them
  - test them
  - write about them
- /favicon.ico less 404s
- CORS for the API
- server logs
  - standard format
  - handle errors
  - somewhere (kind of) persistent
- remove shortcut ICS routes â€” all routes need years now
- bug: events on the same date should have different UIDs in .isc output
- add years to ICS download paths as well
- put "download" button/link onto other year pages
- more specific name for the API
- allowed province ids in global var
- add picker for year
  - make it functional
  - make it look good on screen sizes
  - update the picker to know about dates
  - add aria stuff
  - update the JS change event
  - make the JS width happen
  - add some tests
- add holidays by year to the frontend
  - 2021/2019
  - provinces
  - allowed years in global var
  - tests for responses
  - redirect current year
  - don't be grey for past holidays on dedicated pages
  - redirects query param
  - federal
  - canada
  - 2022/2018
  - add new pages to sitemap
- look at the little subtitle on the main page
  - bug: only says "celebrated by" for federal holidays
  - make it say "observed in" because it's more common
    - bug: add federal holidays to the mix
    - put federal holidays on the canada holiday box province list
- google analytics events capture specific pages
- de-emphasize the "download" button
  - bug: shim the link button with JS
  - bug: not on the 'download holidays' page
- add a better province picker
  - design for the select
  - put in a submit button
  - put in a post route to handle form submissions
  - pass in the current value as pre-selected
  - pass in the accent colour
  - switch out with ProvincePicker based on screen size
  - javascript hide button
  - add javascript onChange select
  - add a focus style
- add LGTM security scans because why not
- fun colours backgrounds
- add a page for the API
  - add the API link to the header so people know about it
- add an export ics feature
  - add a page where you can download all holidays
- bug: federal hols are not shown on the homepage holidays table
- add print styles
- skip link
- quick feedback page
- continuous deployment
- top menu
  - active link style in top menu
- make it work for 2020
- wiki problems
  - st george's day is wrong
  - nunavut day
- show all holidays not just upcoming holidays
  - show upcoming holidays if preferred
  - style past holidays differently
- add holidays by year to the API
  - 2021
  - 2020
  - 2019
- better meta for social
- details element for ie11
- add test for menu item component
- add federal holidays
  - explain what federal holidays are
  - add a menu item for federal holidays
  - add more tests for federal holidays
  - add a page for federal holidays
- about page
- add API docs
- update README
- put your name in it somewhere
- analytics
- big text for big screens
- all provinces link bug
- vh bug omg
- list of provinces
- add bottom menu link
- one column layout, wink
- fix layout for province pages
- colours for all the provinces
- up arrows down arrows CSS content
- fix the summary table for two values
- links on the list on the front page
- sketch design for frontend
- next holiday provinces
- frontend specific router + smoke tests
- generic 404 page
- page title and meta tag
- favicon
- slide down effect
- list of holidays canada
  - table that breaks
  - list relevant provinces for upcoming holidays
  - list upcoming holidays
- remove junk page
- next holiday canada
  - square box for next holiday
  - actually get next holiday
- add styles js file
- tests for API routes
  - test for error routes
  - federal route
  - holidays by ID route
  - holidays route
  - provinces by ID route
  - provinces route
  - root route
- return better error message for province with bad id
- think about how much hateoas we want in the api
- free deployment
- create federal route
- return provinces by id
- return holidays by id
- create generic error API message
- return nextHoliday for each province
- update web scraper for new table names
- run web scraper again
- add root api domain
- add api router instead of all routes in server.js
- return holidays JSON without a recursion error
- add a many-to-one association between provinces and holidays
- return list of holidays in a page
- return holidays JSON
- add holidays table
- change the url for the page component
- return basic list of provinces as a page
- return provinces
- provinces table
- basic table
- install basic SQLite
- check meta param can't break the app
- move cookie config into utils
